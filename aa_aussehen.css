/* selber geschrieben, Grundkonzept aus anderem Projekt */
/* Grundwerte für Farben, Typografie, Abstände */
:root{
  --hintergrund:#f9fafb; --vordergrund:#111827; --text-gedämpft:#6b7280; --rahmen:#e5e7eb;
  --akzent:#2563eb; --akzent-stark:#1d4ed8;
  --radius:12px; --schatten:0 8px 24px rgba(0,0,0,.08); --fokus:0 0 0 3px rgba(37,99,235,.35);
  --schrift-familie:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  --schrift-groesse:16px; --zeilenhoehe:1.6;
  color-scheme:light;
}

/* Auto-Dark, wenn kein data-theme gesetzt ist */
@media (prefers-color-scheme: dark){
  :root:not([data-theme]){
    --hintergrund:#0b1220; --vordergrund:#e5e7eb; --text-gedämpft:#9aa3b2; --rahmen:#1f2937;
    --akzent:#3b82f6; --akzent-stark:#2563eb;
    --schatten:0 8px 24px rgba(0,0,0,.45); --fokus:0 0 0 3px rgba(59,130,246,.4);
    color-scheme:dark;
  }
}

/* Erzwungener Light/Dark-Mode über html[data-theme] */
html[data-theme="light"]{
  color-scheme:light;
  --hintergrund:#f9fafb; --vordergrund:#111827; --text-gedämpft:#6b7280; --rahmen:#e5e7eb;
  --akzent:#2563eb; --akzent-stark:#1d4ed8; --schatten:0 8px 24px rgba(0,0,0,.08); --fokus:0 0 0 3px rgba(37,99,235,.35);
}
html[data-theme="dark"]{
  color-scheme:dark;
  --hintergrund:#0b1220; --vordergrund:#e5e7eb; --text-gedämpft:#9aa3b2; --rahmen:#1f2937;
  --akzent:#3b82f6; --akzent-stark:#2563eb; --schatten:0 8px 24px rgba(0,0,0,.45); --fokus:0 0 0 3px rgba(59,130,246,.4);
}

/* Reset und Grundlayout */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; padding:24px;
  font-family:var(--schrift-familie); font-size:var(--schrift-groesse); line-height:var(--zeilenhoehe);
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(37,99,235,.08), transparent 60%),
    radial-gradient(800px 400px at 120% 10%, rgba(37,99,235,.06), transparent 60%),
    var(--hintergrund);
  color:var(--vordergrund);
}
body > * {
  max-width: none;
  margin-left: 0;
  margin-right: 0;
}

/* Typografie */
h1{margin:8px 0 16px; font-size:clamp(1.6rem,1.1rem + 2vw,2.4rem); font-weight:800; letter-spacing:-.01em}
h1 + *{margin-top:10px}

p, ul, nav, form{margin:12px 0 16px}

a{color:var(--akzent); text-decoration:none}
a:hover{text-decoration:underline}

/*Layout-Helfer*/
.container{
  max-width: 720px;
  margin: 6vh 0;
  padding: 0 20px;
}

.header{display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:24px}

@media (max-width:420px){
  .container{margin:3vh 0}
  .header{flex-direction:column; align-items:stretch}
}

/* Weiß-transparentes Panel mit Blur-Effekt */
.card{
  background:rgba(255,255,255,.7);
  backdrop-filter:saturate(140%) blur(6px); -webkit-backdrop-filter:saturate(140%) blur(6px);
  border:1px solid var(--rahmen); border-radius:var(--radius); box-shadow:var(--schatten); padding:20px;
}

.card-narrow {
    max-width: 480px;
    margin: 1.5rem 0;
}

.actions-inline {
    display: flex;
    gap: 8px;
}

.actions-inline .btn {
    flex: 1 1 0;
    text-align: center;
}

/* Dark-Mode-Hintergrundvarianten */
@media (prefers-color-scheme: dark){ :root:not([data-theme]) .card{background:rgba(17,24,39,.6)} }
html[data-theme="dark"] .card{background:rgba(17,24,39,.6)}
html[data-theme="light"] .card{background:rgba(255,255,255,.7)}

/* Formulare */
.form{display:grid; gap:16px; gap:14px; max-width:420px}
.form-inline {
  max-width: 420px;
  display: flex;
  gap: 8px;
  align-items: center;
}

.form-inline label {
  flex: 0 0 auto;
}

.form-inline select {
  flex: 1 1 auto;
}

.form-container {
  max-width: 450px;
  margin-left: 0;
}

/* Card innerhalb solcher Formulare links positionieren */
.form-container .card {
  margin-left: 0;
}

/* Buttons linksbündig */
.actions-vertical.left {
  align-items: flex-start;
}

.field{display:grid; gap:6px}
label{font-weight:600}
input, select {
  appearance: none;
  width: 100%;
  padding: 10px 12px;
  background: var(--hintergrund);
  color: var(--vordergrund);
  border: 1px solid var(--rahmen);
  border-radius: calc(var(--radius) - 4px);
  outline: none;
  transition: border-color .2s ease, box-shadow .2s ease;
}

input::placeholder{color:var(--text-gedämpft)}
input:focus,select:focus{border-color:var(--akzent); box-shadow:var(--fokus)}

button {
  appearance: none;
  -webkit-appearance: none;
  font: inherit;
  line-height: inherit;
  background: none;
  border: none;
  padding: 0; /* .btn setzt eigene Padding-/Border-Werte */
}

/*Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 14px; border:1px solid var(--rahmen); border-radius:var(--radius);
  background:transparent; color:var(--vordergrund); cursor:pointer;
  transition:transform .06s ease, background-color .2s ease, border-color .2s ease;
}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn.primary{background:var(--akzent); color:#fff; border-color:transparent}
.btn.primary:hover{background:var(--akzent-stark)}
a.btn{display:inline-flex; align-items:center; justify-content:center; text-decoration:none}

.menu-links {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-width: 280px;
}
.menu-links .btn {
  width: 100%; /*damit alle Buttons gleich breit sind*/
}

/* Navigation Buttonms */
nav{display:flex; flex-wrap:wrap; gap:10px; align-items:center}
nav a:not(.theme-icon):not(.btn){
  padding:6px 10px; border:1px solid var(--rahmen); border-radius:10px;
  background:rgba(255,255,255,.6);
}

/* Dark-Mode-Hintergrund für Navigation */
@media (prefers-color-scheme: dark){ :root:not([data-theme]) nav a:not(.theme-icon):not(.btn){background:rgba(17,24,39,.5)} }
html[data-theme="dark"] nav a:not(.theme-icon):not(.btn){background:rgba(17,24,39,.5)}

/* Listen */
ul{padding-left:1.2rem}
ul li{margin:6px 0}

/* Darkmode Toggle */
.theme-switch{
  position:fixed; top:12px; right:12px; z-index:1000;
  display:flex; gap:8px;
}
.theme-icon{
  width:36px; height:36px; border-radius:9999px;
  display:inline-flex; align-items:center; justify-content:center;
  text-decoration:none; border:1px solid var(--rahmen);
  background:rgba(255,255,255,.7); color:var(--vordergrund); box-shadow:var(--schatten);
  transition:transform .06s ease, background-color .2s ease, border-color .2s ease;
}
.theme-icon:hover{transform:translateY(-1px)}
.theme-icon:active{transform:translateY(0)}
/* Dark-Mode-Hintergrund für Theme-Icons */
@media (prefers-color-scheme: dark){ :root:not([data-theme]) .theme-icon{background:rgba(17,24,39,.6)} }
html[data-theme="dark"] .theme-icon{background:rgba(17,24,39,.6)}
.theme-icon.active{box-shadow:var(--fokus)}

/* Fokus-Style für Tastatur-Nutzer */
:focus-visible{outline:none; box-shadow:var(--fokus)}

/*für die Zeiterfassung ergänzt. Auch überall anders übernehmen*/
.menu{margin:8px 0 16px}

.row{display:grid; grid-template-columns:1fr 1fr; gap:12px}

.status{display:flex; gap:16px; align-items:center}

.note{color:var(--text-gedämpft)}

.alert-ok{
  padding:10px 12px;
  border:1px solid var(--rahmen);
  border-radius:var(--radius);
  background:rgba(16,185,129,.12);
}
.alert-err{
  padding:10px 12px;
  border:1px solid var(--rahmen);
  border-radius:var(--radius);
  background:rgba(239,68,68,.12);
}

@media (max-width:480px){
  .row{grid-template-columns:1fr}
}

/*für die Zeiterfassung für die Statusauswahl ergänzt. Auch überall anders übernehmen*/
.status {
  display:flex; gap:10px;
}

.status-option {
  flex:1;
  padding:8px 12px;
  font-size:.95rem;
  border:1px solid var(--rahmen);
  border-radius:var(--radius);
  text-align:center;
  cursor:pointer;
  user-select:none;
  background:var(--hintergrund);
  color:var(--vordergrund);
  opacity:.55;
  transition:.2s;
}
.status-option input { display:none }

.status-option:has(input:checked) {
  opacity:1;
}

.status-option.arbeitstag:has(input:checked){border-color:#16a34a; background:color-mix(in oklab,#16a34a 12%,var(--hintergrund));}
.status-option.krank:has(input:checked){border-color:#dc2626; background:color-mix(in oklab,#dc2626 12%,var(--hintergrund));}
.status-option.urlaub:has(input:checked){border-color:#2563eb; background:color-mix(in oklab,#2563eb 12%,var(--hintergrund));}

html[data-theme="dark"] .status-option {background:rgba(255,255,255,.05)}
html[data-theme="dark"] .status-option.arbeitstag:has(input:checked){background:color-mix(in oklab,#16a34a 18%,transparent)}
html[data-theme="dark"] .status-option.krank:has(input:checked){background:color-mix(in oklab,#dc2626 18%,transparent)}
html[data-theme="dark"] .status-option.urlaub:has(input:checked){background:color-mix(in oklab,#2563eb 18%,transparent)}

.monatsueberblick {
    margin-top: 2rem;
    max-width: 450px;
}

.monatsueberblick h2 {
    margin-bottom: 1rem;
    font-size: 1.4rem;
}

.monatsueberblick .tile {
    padding: 1.2rem;
    border-radius: 1rem;
    margin-bottom: 1.25rem;
    background: var(--surface-2, #f4f4f8);
    color: var(--text-color, #111);
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    border: 1px solid rgba(0,0,0,0.05);
}

html[data-theme="dark"] .monatsueberblick .tile {
    background: var(--surface-2-dark, #1f2933);
    color: var(--text-color-dark, #f9fafb);
    box-shadow: 0 0 0 1px rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.08);
}

.monatsueberblick figure { 
    margin: 0; 
    text-align: center; 
}
.tile-icon { font-size: 2rem; margin-bottom: .25rem; }
figcaption { font-weight: 600; margin-bottom: .5rem; }

.tile-value {
    text-align: center;
    font-size: 1.8rem;
    margin: .5rem 0 .6rem 0;
    font-variant-numeric: tabular-nums;
}

.tile-value .unit { font-size: .9rem; opacity: .75; }
html[data-theme="dark"] .tile-value .unit { opacity: .65; }

.monatsueberblick meter {
    width: 100%;
    height: .8rem;
    margin-bottom: .5rem;
    background: rgba(0,0,0,0.05);
}
html[data-theme="dark"] .monatsueberblick meter {
    background: rgba(255,255,255,0.1);
}

details summary {
    cursor: pointer;
    font-weight: 500;
    font-size: .9rem;
}

.fade-block {
  opacity: 0;
  max-height: 0;
  overflow: hidden;
  transform: translateY(-4px);
  transition:
    opacity .18s ease,
    max-height .18s ease,
    transform .18s ease;
}

.fade-block.is-visible {
  opacity: 1;
  max-height: 140px;
  transform: translateY(0);
}

.page-header {
  margin: 1.5rem auto 1rem;
  padding: 0 1rem;
  max-width: 960px;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.page-header h1 {
  font-size: 1.6rem;
  margin: 0;
}

.page-header .menu {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

main {
  max-width: none;
  margin: 0 auto 2rem;
  padding: 0 1rem;
}

.quartal-block {
  margin: 1rem 0 2rem;
}

.quartal-block h2 {
  font-size: 1.2rem;
  margin-bottom: 0.5rem;
}

.monatsuebersicht {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.95rem;
}

.monatsuebersicht caption {
  text-align: left;
  font-weight: bold;
  margin-bottom: 0.25rem;
}

.monatsuebersicht th,
.monatsuebersicht td {
  padding: 0.4rem 0.6rem;
  border-bottom: 1px solid #ddd;
  text-align: left;
}

.monatsuebersicht thead th {
  border-bottom: 2px solid #ccc;
  font-weight: 600;
}

.monatsuebersicht--compact th,
.monatsuebersicht--compact td {
  padding: 0.35rem 0.5rem;
}

.row-summe-monat {
  font-weight: 600;
  background: #f5f5f5;
}

.row-summe-quartal {
  font-weight: 700;
  background: #e3f3ff;
}

.months {
  margin-bottom: 2rem;
}

.months > h2 {
  font-size: 1.2rem;
  margin-bottom: 0.75rem;
}

.month {
  border-radius: 0.5rem;
  border: 1px solid #ddd;
  background: #fafafa;
  margin-bottom: 0.75rem;
  overflow: hidden;
}

.month__header {
  list-style: none;
  cursor: pointer;
  padding: 0.6rem 0.9rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
}

.month__header::-webkit-details-marker {
  display: none;
}

.month__header::before {
  content: "▸";
  margin-right: 0.35rem;
  transition: transform 0.15s ease-out;
}

.month[open] .month__header::before {
  transform: rotate(90deg);
}

.month__title {
  font-weight: 600;
}

.month__summary-values {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  font-size: 0.85rem;
  color: #555;
}

.month__summary-values span {
  padding: 0.1rem 0.4rem;
  border-radius: 999px;
  border: 1px solid #ddd;
  background: #fff;
}

.month__body {
  padding: 0.4rem 0.9rem 0.8rem;
  border-top: 1px solid #e0e0e0;
}

.note {
  font-size: 0.9rem;
  color: #666;
  margin: 0.5rem 0;
}

.tag-werktag {
  background: #fff;
}

.tag-feiertag {
  background: #f3f3f3;
}

.tag-heute {
  background: #fff9e6;
}

.tag-heute-label {
  font-size: 0.8rem;
  color: #b36b00;
  margin-left: 0.3rem;
}


/* Mobile: Tabellen horizontal scrollbar machen */
@media (max-width: 640px) {
  .page-header {
    align-items: flex-start;
  }

  .month__header {
    flex-direction: column;
    align-items: flex-start;
  }

  .month__summary-values {
    width: 100%;
  }

  .month__body {
    padding-left: 0.6rem;
    padding-right: 0.6rem;
  }

  .monatsuebersicht {
    display: block;
    width: 100%;
    overflow-x: auto;
  }

  .monatsuebersicht table {
    min-width: 100%;
  }
}

html[data-theme="dark"] .page-header {
  color: #e5e9f0;
}

html[data-theme="dark"] main {
  color: #e5e9f0;
}

html[data-theme="dark"] .monatsuebersicht {
  border-collapse: collapse;
}

html[data-theme="dark"] .monatsuebersicht th,
html[data-theme="dark"] .monatsuebersicht td {
  border-bottom: 1px solid #3a4558;
  color: #e5e9f0;
}

html[data-theme="dark"] .monatsuebersicht thead th {
  border-bottom-color: #4c5670;
}

html[data-theme="dark"] .row-summe-monat {
  background: #1f2835;
}

html[data-theme="dark"] .row-summe-quartal {
  background: #1c3444;
}

html[data-theme="dark"] .quartal-block h2 {
  color: #e5e9f0;
}

html[data-theme="dark"] .month {
  border-color: #3a4558;
  background: #171c24;
}

html[data-theme="dark"] .month__header {
  background: #171c24;
  color: #e5e9f0;
}

html[data-theme="dark"] .month__header:hover {
  background: #1d2330;
}

html[data-theme="dark"] .month__summary-values span {
  border-color: #3a4558;
  background: #222938;
  color: #e5e9f0;
}

html[data-theme="dark"] .month__body {
  border-top-color: #3a4558;
}

html[data-theme="dark"] .note {
  color: #a0aec0;
}

html[data-theme="dark"] .tag-werktag {
  background: #181f2b;
}

html[data-theme="dark"] .tag-feiertag {
  background: #202737;
}

html[data-theme="dark"] .tag-heute {
  background: #2b2a1a;
}

html[data-theme="dark"] .tag-heute-label {
  color: #f6d087;
}

@media (max-width: 640px) {
  html[data-theme="dark"] .monatsuebersicht {
    background: #141821;
  }
}

.actions-vertical {
    display: flex;
    flex-direction: column;
    gap: 8px;
    width: 100%;
}

.actions-vertical .btn {
    width: 100%;
    text-align: center;
}